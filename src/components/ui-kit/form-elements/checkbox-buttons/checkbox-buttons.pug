include ../custom-checkbox/custom-checkbox.pug

mixin checkbox-buttons(params = {})
  -
    const {
      caption = 'expandable checkbox list',
      leftCaption = '',
      hidden = 'false',
      items = [
        { value: "breakfast", label: "Завтрак" },
        { value: "table", label: "Письменный стол" },
        { value: "chair", label: "Стул для кормления" },
        { value: "bed", label: "Кроватка" },
        { value: "TV", label: "Телевизор" },
        { value: "shampoo", label: "Шампунь" },
      ]
    } = params

  - visibility = hidden === "true" ? "hidden" : ""
  - rotateClass = hidden === "false" ? "checkbox-buttons__expandable-list-expand-more-rotate" : ""

  .checkbox-buttons
    if (leftCaption !== "")
        h3.checkbox-buttons__caption= leftCaption
    else
      .checkbox-buttons__expandable-list.js-checkbox-buttons__expandable-list(
        tabindex = "0"
      )
        .checkbox-buttons__expandable-list-caption
          h3.checkbox-buttons__expandable-list-text= caption
          .checkbox-buttons__expandable-list-expand-more(
            class = rotateClass
          ) expand_more

    .checkbox-buttons-items(class = visibility)
      each item in items

        +custom-checkbox({
          label: item.label,
          text: item.text,
          value: item.value,
        })

//- examples
//- +checkbox-buttons({
//-   leftCaption: "checkbox buttons",
//-   items: [
//-     { value: "allow-smoke", label: "Можно курить" },
//-     { value: "allow-pet", label: "Можно с питомцами" },
//-     {
//-       value: "allow guests",
//-       label: "Можно пригласить гостей (до 10 человек)",
//-     },
//-   ]
//- })

//- +checkbox-buttons({ hidden: "true" })

//- +checkbox-buttons({ caption: "дополнительные удобства" })
